"use strict";(self["webpackChunkfitness_app"]=self["webpackChunkfitness_app"]||[]).push([[755],{9119:function(t,e,a){a.d(e,{Z:function(){return o}});var s=function(){var t=this,e=t._self._c;return e("nav",{staticClass:"base-tabs"},[e("ul",{staticClass:"base-tabs__list"},t._l(t.tabs,(function({title:a,component:s,type:n},i){return e("li",{key:`base-tab_${i}`,staticClass:"base-tabs__item"},["component"===n?e("button",{staticClass:"base-tabs__tab",class:{active:t.activeTab===s},on:{click:function(e){return t.setActive(s)}}},[t._v(" "+t._s(a)+" ")]):e("router-link",{staticClass:"base-tabs__tab",attrs:{to:{name:s}}},[t._v(t._s(a))])],1)})),0)])},n=[],i={name:"BaseTabs",props:{tabs:{type:Array,required:!0,default:()=>[]},activeTabInitial:{type:String}},data(){return{activeTab:this.activeTabInitial}},methods:{setActive(t){t!==this.activeTab&&(this.activeTab=t,this.$emit("change-tab",t))}}},r=i,c=a(1001),l=(0,c.Z)(r,s,n,!1,null,null,null),o=l.exports},4288:function(t,e,a){a.d(e,{Z:function(){return o}});var s=function(){var t=this,e=t._self._c;return e("label",{staticClass:"toggle",class:{active:t.currentState}},[e("span",{staticClass:"toggle__label"},[t._t("default")],2),e("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedValue,expression:"checkedValue"}],staticClass:"toggle__checkbox",attrs:{id:`${t.id}-toggle`,type:"checkbox"},domProps:{checked:Array.isArray(t.checkedValue)?t._i(t.checkedValue,null)>-1:t.checkedValue},on:{change:[function(e){var a=t.checkedValue,s=e.target,n=!!s.checked;if(Array.isArray(a)){var i=null,r=t._i(a,i);s.checked?r<0&&(t.checkedValue=a.concat([i])):r>-1&&(t.checkedValue=a.slice(0,r).concat(a.slice(r+1)))}else t.checkedValue=n},t.changeToggleVal]}}),e("span",{staticClass:"toggle__switch"})])},n=[],i={name:"BaseToggle",props:{defaultState:{type:Boolean,default:!1},id:{type:String,default:"base-toggle"}},data(){return{currentState:this.defaultState}},watch:{defaultState:{handler(t){this.currentState=t},immediate:!0}},computed:{checkedValue:{get(){return this.currentState},set(t){this.currentState=t}}},methods:{changeToggleVal(){this.$emit("change-toggle-val",this.currentState)}}},r=i,c=a(1001),l=(0,c.Z)(r,s,n,!1,null,null,null),o=l.exports},6364:function(t,e,a){a.d(e,{Z:function(){return h}});var s=function(){var t=this,e=t._self._c;return e("li",{staticClass:"training-card"},[e("main",{staticClass:"training-card__main"},[e("div",{staticClass:"training-card__content"},[e("div",{staticClass:"training-card__blue-line"}),e("div",{staticClass:"training-card__inner"},[e("div",{staticClass:"training-card__grid"},[e("h3",{staticClass:"training-card__title"},[t._v(t._s(t.training.name))]),e("p",{staticClass:"training-card__time"},[t._v(t._s(t.timeFormatted))]),e("base-toggle",{staticClass:"primary",attrs:{"default-state":!!+t.training.reminder,id:`training-notify-${t.training.id}`},on:{"change-toggle-val":t.toggleNotifications}},[t._v(" Notify me ")]),t.training.repeats?e("span",{staticClass:"training-card__tag training-card__repeats"},[t._v(" "+t._s(t.training.repeats)+"x/week ")]):t._e()],1),e("div",{staticClass:"training-card__tags"},[e("span",{staticClass:"training-card__tag"},[e("img",{attrs:{src:a(9140),alt:""}}),t._v(" "+t._s(t.training.gs_tags)+" ")]),e("span",{staticClass:"training-card__tag"},[e("img",{attrs:{src:a(6123),alt:""}}),t._v(" "+t._s(t.training.duration)+" mins ")]),e("span",{staticClass:"training-card__tag"},[e("img",{attrs:{src:a(6705),alt:""}}),t._v(" "+t._s(t.training.location_name)+" ")]),t.training.equipment?e("span",{staticClass:"training-card__tag"},[e("img",{attrs:{src:a(6705),alt:""}}),t._v(" "+t._s(t.training.equipment)+" ")]):t._e()])])])]),e("footer",{staticClass:"training-card__footer"},[t.training.is_open&&!t.training.choosen?e("base-button",{staticClass:"small-btn training-card__book-btn",nativeOn:{click:function(e){return t.toggleReservation("reservation")}}},[t._v(" Book ")]):t.training.choosen?e("base-button",{staticClass:"small-btn training-card__book-btn",nativeOn:{click:function(e){return t.toggleReservation("cancel_reservation")}}},[t._v(" Cancel ")]):e("base-button",{staticClass:"small-btn training-card__book-btn training-card__book-btn--disabled"},[t._v(" Booking available in "+t._s(t.training.time_till_open_hours)+" ")])],1)])},n=[],i=a(3822),r=a(174),c=a(5729),l=a(5879),o=a(4288),d={name:"TrainingCard",components:{BaseToggle:o.Z,BaseButton:l.Z},props:{training:{type:Object,required:!0,default:()=>{}}},computed:{...(0,i.Se)({user:c.Z.USER_DATA}),timeFormatted(){const[t,e]=this.training.time_from.split(":");return`${t}:${e}`}},methods:{toggleReservation(t){this.$store.dispatch(r.Z.TOGGLE_RESERVATION,{action:t,date:this.training.date_from,reservation:this.training.id,user:this.user.id,member:this.user.member.id,registration:this.user.registration.id}).then((t=>{"success"===t.status?this.$toaster.success(t.message):this.$toaster.error(t.message)}))},toggleNotifications(t){this.$store.dispatch(r.Z.TOGGLE_NOTIFICATIONS,{action:"reminder",status:""+ +t,date:this.training.date_from,reservation:this.training.id,user:this.user.id,member:this.user.member.id,registration:this.user.registration.id}).then((t=>{"success"===t.status?this.$toaster.success(t.message):this.$toaster.error(t.message)}))}}},u=d,g=a(1001),_=(0,g.Z)(u,s,n,!1,null,"665eb06b",null),h=_.exports},7319:function(t,e,a){a.d(e,{Z:function(){return p}});var s=function(){var t=this,e=t._self._c;return e("article",{staticClass:"schedule"},[t._t("default"),e("inline-calendar",{on:{"set-active-date":t.selectDate}}),e("ul",{staticClass:"schedule__trainings"},t._l(t.trainingsFiltered,(function(t,a){return e("training-card",{key:`training-item_${a}`,attrs:{training:t}})})),1)],2)},n=[],i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"inline-calendar"},[e("ul",{ref:"datesWrapper",staticClass:"inline-calendar__dates"},t._l(t.datesReadable,(function(a,s){return e("li",{key:`date-item_${s}`,staticClass:"inline-calendar__date date-item",class:{active:a.id===t.selectedDate.id},on:{click:function(e){return t.setActiveDate(a)}}},[e("p",{staticClass:"date-item__weekday"},[t._v(t._s(a.weekday))]),e("h2",{staticClass:"date-item__day"},[t._v(t._s(a.day))])])})),0)])},r=[],c=(a(7658),{name:"InlineCalendar",data(){return{today:new Date,dates:[],selectedDate:null,maxDate:new Date,daysRange:7}},created(){this.getDatesInRange(this.today,this.daysRange)},computed:{datesReadable(){return this.dates.map(((t,e)=>({id:e+1,date:t,weekday:new Date(t).toLocaleDateString("en-US",{weekday:"short"}),day:new Date(t).getDate()})))}},methods:{getDatesInRange(t,e,a=!1){const s=new Date(t.getTime());a&&s.setDate(s.getDate()+1);const n=new Date(s.getTime()),i=new Date(n.setDate(n.getDate()+e)),r=[];while(s<=i)r.push(new Date(s)),s.setDate(s.getDate()+1);this.dates=this.dates.length?[...this.dates,...r]:r,this.maxDate=r[r.length-1],this.setActiveDate(this.datesReadable[0])},setActiveDate(t){this.selectedDate=t,this.$emit("set-active-date",t)}}}),l=c,o=a(1001),d=(0,o.Z)(l,i,r,!1,null,"26e7a432",null),u=d.exports,g=a(6364),_={name:"TrainingSchedule",components:{InlineCalendar:u,TrainingCard:g.Z},props:{trainings:{type:Array,required:!0,default:()=>{}}},data(){return{selectedDate:null}},computed:{trainingsFiltered(){const t=this.trainings?.filter((t=>{const e=new Date(t.date),a=new Date(this.selectedDate?.date);if(e.getFullYear()===a.getFullYear()&&e.getMonth()===a.getMonth()&&e.getDate()===a.getDate())return t}))[0];return t?.schedules}},methods:{selectDate(t){this.selectedDate=t}}},h=_,m=(0,o.Z)(h,s,n,!1,null,null,null),p=m.exports},3432:function(t,e,a){a.r(e),a.d(e,{default:function(){return C}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"activities"},[e("div",{staticClass:"container"},[e("base-tabs",{attrs:{tabs:t.tabs,"active-tab-initial":t.currentComponent},on:{"change-tab":t.changeTab}}),e(t.currentComponent,{tag:"component"})],1)])},n=[],i=a(9119),r=function(){var t=this,e=t._self._c;return e("training-schedule",{attrs:{trainings:t.trainings}},[e("h2",{staticClass:"schedule-title"},[t._v("Gym Schedule")])])},c=[],l=a(3822),o=a(7319),d=a(5729),u=a(174),g={name:"TheClasses",components:{TrainingSchedule:o.Z},computed:{...(0,l.Se)({user:d.Z.USER_DATA,trainings:d.Z.TRAININGS_CLASSES})},mounted(){this.trainings.length||this.$store.dispatch(u.Z.LOGIN,{username:this.user.username,password:this.user.password})}},_=g,h=a(1001),m=(0,h.Z)(_,r,c,!1,null,null,null),p=m.exports,b={name:"ActivitiesView",components:{BaseTabs:i.Z,TheClasses:p,PersonalTrainings:()=>a.e(299).then(a.bind(a,2299)),TheWorkouts:()=>a.e(645).then(a.bind(a,4645))},metaInfo:{title:"Activities"},data(){return{tabs:[{title:"Classes",component:"TheClasses",type:"component"},{title:"PT",component:"PersonalTrainings",type:"component"},{title:"Workouts",component:"TheWorkouts",type:"component"}],currentComponent:this.$route.params.currentComponent||"TheClasses"}},methods:{changeTab(t){this.currentComponent=t}}},v=b,f=(0,h.Z)(v,s,n,!1,null,"05947fa3",null),C=f.exports}}]);
//# sourceMappingURL=activities.9c75f4a2.js.map