"use strict";(self["webpackChunkfitness_app"]=self["webpackChunkfitness_app"]||[]).push([[633],{6101:function(t,e,s){s.d(e,{Z:function(){return f}});var a=function(){var t=this,e=t._self._c;return e("section",{staticClass:"store-items"},[e("h2",{staticClass:"store-page-title"},[t._t("default")],2),e("div",{staticClass:"store-items__list"},t._l(t.storeItems,(function(s,a){return e("store-card",t._g({key:`store-item_${a}`,attrs:{"store-item":s}},t.$listeners))})),1)])},r=[],n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"store-card",class:[`store-card--${t.storeItem.type}`,{selected:t.isSelected}]},[e("main",{staticClass:"store-card__main"},["selected"in t.storeItem?e("p",{staticClass:"store-card__current-membership"},[t._v(" "+t._s(t.isSelected?"Current membership":"")+" ")]):t._e(),e("h3",{staticClass:"store-card__title"},[t._v(t._s(t.storeItem.name))]),e("p",{staticClass:"store-card__subtitle"},[t._v("1-la-1 workout")]),e("div",{staticClass:"store-card__price-duration"},[e("p",{staticClass:"store-card__price"},[t._v(" "+t._s(t.storeItem.price)+" "),e("span",[t._v("RON")])]),t.storeItem.days?e("div",{staticClass:"store-card__duration-block"},[e("p",{staticClass:"store-card__duration-title"},[t._v("Valabilitate")]),e("p",{staticClass:"store-card__duration"},[t._v(t._s(t.storeItem.days)+" Days")])]):t._e()])]),e("footer",{staticClass:"store-card__footer"},[t.isSelected?[e("base-button",{staticClass:"small-btn store-card__btn store-card__btn--renew",nativeOn:{click:function(e){return t.$emit("open-calendar",{plan:t.storeItem.id,isRange:!1})}}},[t._v(" Renew ")]),e("base-button",{staticClass:"small-btn store-card__btn store-card__btn--freeze",nativeOn:{click:function(e){return t.$emit("open-calendar",{plan:t.storeItem.id,isRange:!0})}}},[t._v(" Freeze ")])]:e("base-button",{staticClass:"small-btn store-card__btn store-card__btn--buy",nativeOn:{click:function(e){return t.$emit("open-calendar",{plan:t.storeItem,isRange:!1})}}},[t._v(" Buy ")])],2)])},i=[],o=s(3822),l=s(5879),c=s(5729),d={name:"StoreCard",components:{BaseButton:l.Z},props:{storeItem:{type:Object,required:!0,default:()=>{}}},computed:{...(0,o.Se)({user:c.Z.USER_DATA}),isSelected(){return this.storeItem.id===this.user.registration.plan_id}}},u=d,h=s(1001),p=(0,h.Z)(u,n,i,!1,null,"b5bea0b2",null),m=p.exports,_={name:"StoreItemsList",components:{StoreCard:m},props:{storeItems:{type:Array,required:!0,default:()=>[]}}},g=_,v=(0,h.Z)(g,a,r,!1,null,"7fb7a4e8",null),f=v.exports},7604:function(t,e,s){s.r(e),s.d(e,{default:function(){return p}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"store-page store-packages"},[e("div",{staticClass:"container"},[e("div",{staticClass:"store-page-img-wrapper"},[e("img",{staticClass:"store-page-img",attrs:{src:s(3235),alt:""}})]),t._l(t.packages,(function(s,a){return e("div",{key:`packages-set_${a}`,staticClass:"store-packages__wrapper"},[e("store-items-list",{attrs:{"store-items":s.items},on:{"open-calendar":t.openCalendar}},[t._v(" Packages "+t._s(s.trainerName)+" ")]),t.packages.length>1&&a!==t.packages.length-1?e("hr"):t._e()],1)}))],2),e("vue-bottom-sheet",{ref:"calendarBottomSheet",staticClass:"calendar-sheet",attrs:{"max-width":"800px","max-height":"315px",effect:"fx-fadein-scale","background-scrollable":!1,"overlay-color":"transparent","is-full-screen":""}},[t.isRangeCalendar?e("v-date-picker",{ref:"calendar",staticClass:"store-calendar",attrs:{masks:t.calendarMasks,"min-date":new Date,locale:"en-US","is-expanded":"","is-range":""},model:{value:t.range,callback:function(e){t.range=e},expression:"range"}},[e("button",{staticClass:"vc-btn vc-btn--prev",attrs:{slot:"header-left-button"},on:{click:function(e){return t.moveToMonth(-1)}},slot:"header-left-button"},[e("svg",{attrs:{width:"10",height:"16",viewBox:"0 0 10 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M8.5 15C8.5 15 1.5 10.856 1.5 8C1.5 5.145 8.5 1 8.5 1",stroke:"#0080FF","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}})])]),e("button",{staticClass:"vc-btn vc-btn--next",attrs:{slot:"header-right-button"},on:{click:function(e){return t.moveToMonth(1)}},slot:"header-right-button"},[e("svg",{attrs:{width:"10",height:"16",viewBox:"0 0 10 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M1.5 0.999998C1.5 0.999998 8.5 5.144 8.5 8C8.5 10.855 1.5 15 1.5 15",stroke:"#0080FF","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}})])])]):e("v-date-picker",{ref:"calendar",staticClass:"store-calendar",attrs:{masks:t.calendarMasks,"min-date":new Date,locale:"en-US","is-expanded":""},model:{value:t.selectedDate,callback:function(e){t.selectedDate=e},expression:"selectedDate"}},[e("button",{staticClass:"vc-btn vc-btn--prev",attrs:{slot:"header-left-button"},on:{click:function(e){return t.moveToMonth(-1)}},slot:"header-left-button"},[e("svg",{attrs:{width:"10",height:"16",viewBox:"0 0 10 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M8.5 15C8.5 15 1.5 10.856 1.5 8C1.5 5.145 8.5 1 8.5 1",stroke:"#0080FF","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}})])]),e("button",{staticClass:"vc-btn vc-btn--next",attrs:{slot:"header-right-button"},on:{click:function(e){return t.moveToMonth(1)}},slot:"header-right-button"},[e("svg",{attrs:{width:"10",height:"16",viewBox:"0 0 10 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M1.5 0.999998C1.5 0.999998 8.5 5.144 8.5 8C8.5 10.855 1.5 15 1.5 15",stroke:"#0080FF","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}})])])])],1)],1)},r=[],n=s(3822),i=s(174),o=s(5729),l=s(3513),c={name:"StorePackages",mixins:[l.Z],metaInfo:{title:"Store â€” Packages"},computed:{...(0,n.Se)({user:o.Z.USER_DATA,packages:o.Z.PACKAGES_BY_TRAINER})},mounted(){this.packages.length||this.$store.dispatch(i.Z.LOGIN,{username:this.user.username,password:this.user.password})}},d=c,u=s(1001),h=(0,u.Z)(d,a,r,!1,null,"44b9df06",null),p=h.exports},3513:function(t,e,s){s(7658);var a=s(3822),r=s(6108),n=s(174),i=s(2234),o=s(6101),l=s(3506),c=s(5729);e["Z"]={components:{VueBottomSheet:i.Z,StoreItemsList:o.Z},data(){return{isOpenedCalendar:!1,isRangeCalendar:!1,calendarMasks:{weekdays:"WWW"},selectedPlan:null,startDate:null,endDate:null}},computed:{...(0,a.Se)({planForBuying:c.Z.PLAN_FOR_BUYING}),selectedDate:{get(){return new Date},set(t){const e=t.toISOString().replace("T"," ").replace("Z","").split(" ")[0];this.buyPlan(e)}},range:{get(){return{start:null,end:null}},set(t){const{start:e,end:s}=t;this.startDate=e.toISOString().replace("T"," ").replace("Z","").split(" ")[0],this.endDate=s.toISOString().replace("T"," ").replace("Z","").split(" ")[0]}},rangeDays(){return(0,l.eX)(this.startDate,this.endDate)}},watch:{endDate(){this.freezePlan()}},methods:{openCalendar(t){this.$store.commit(r.Z.SELECT_PLAN_FOR_BUYING,t.plan),this.isRangeCalendar=t.isRange,this.$refs.calendarBottomSheet.open()},async moveToMonth(t){const e=this.$refs.calendar;await e.move({month:t})},buyPlan(t){this.$store.dispatch(n.Z.CHECK_PLAN,{action:"check_plan",plan:this.planForBuying.id,start_date:t,user:this.user.id,member:this.user.member.id,registration:this.user.registration.id}).then((t=>{"success"===t.status?(this.$refs.calendarBottomSheet.close(),this.$router.push({name:"StorePayment"})):this.$toaster.error(t.message)}))},freezePlan(){this.$store.dispatch(n.Z.FREEZE_PLAN,{action:"freeze",start_date:this.startDate,end_date:this.endDate,days:this.rangeDays,user:this.user.id,member:this.user.member.id,registration:this.user.registration.id}).then((t=>{"success"===t.status?(this.$refs.calendarBottomSheet.close(),this.$router.push({name:"StorePayment"})):this.$toaster.error(t.message)}))}}}},3235:function(t,e,s){t.exports=s.p+"img/pic-training.83f282ca.jpg"}}]);
//# sourceMappingURL=store-packages.631faba3.js.map